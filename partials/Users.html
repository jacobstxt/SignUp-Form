<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Користувачі</title>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <link href="../css/style.css" rel="stylesheet" />
    <script src="../js/site.js"></script>
</head>
<body class="UserContainer">
    <script>loadDOM('/partials/NavBar.html')</script>
    <div class="max-w-4xl  mx-auto bg-white shadow-lg rounded-lg p-6 mt-64">
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Список користувачів</h2>
        <div class="space-y-4" id="user-list">
            <!--//Insert users-->
        </div>
    </div>


    <script>
        const users = JSON.parse(localStorage.users) || [];
        const userList = document.getElementById("user-list");

        // Функція для оновлення списку користувачів після видалення
        function renderUsers() {
            userList.innerHTML = ''; // Очистити список користувачів
            users.forEach((user, index) => {
                const userCard = document.createElement("div");
                userCard.className = "flex items-center space-x-4 p-4 bg-gray-50 rounded-lg shadow";
                userCard.innerHTML = `
                        <div class="flex items-center justify-between space-x-4">
                            <img class="w-16 h-16 rounded-full" src="${user.avatar}" alt="${user.name}">
                            <div class="flex-1">
                                <p class="text-lg font-medium text-gray-900">${user.name}</p>
                                <p class="text-gray-600">${user.email}</p>
                            </div>
                            <div class="flex space-x-4 ml-auto">
                                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    Edit
                                </button>
                                <button class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500" onclick="deleteUser(${index})">
                                    Delete
                                </button>
                            </div>
                        </div>
                    `;
                userList.appendChild(userCard);
            });
        }

        function deleteUser(index) {
            users.splice(index, 1); 
            localStorage.setItem("users", JSON.stringify(users)); 
            renderUsers();
        }

        renderUsers();
    </script>


</body>
</html>
